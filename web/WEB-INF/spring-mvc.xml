<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans"       xmlns:p="http://www.springframework.org/schema/p"       xmlns:context="http://www.springframework.org/schema/context"       xmlns:mvc="http://www.springframework.org/schema/mvc"       xmlns:websocket="http://www.springframework.org/schema/websocket"       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xsi:schemaLocation="              http://www.springframework.org/schema/beans              http://www.springframework.org/schema/beans/spring-beans-4.1.xsd              http://www.springframework.org/schema/context              http://www.springframework.org/schema/context/spring-context-4.1.xsd              http://www.springframework.org/schema/mvc              http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd              http://www.springframework.org/schema/websocket              http://www.springframework.org/schema/websocket/spring-websocket-4.1.xsd       ">    <description>Spring MVC Configuration</description>    <!-- 启用Spring MVC注解 -->    <context:annotation-config/>    <!-- 默认的注解映射支持 -->    <!-- enable-matrix-variables -->    <!--<mvc:annotation-driven enable-matrix-variables="true"/>-->    <mvc:annotation-driven enable-matrix-variables="true"/>    <!-- 对静态资源文件的访问，交给default servlet handler处理 -->    <mvc:default-servlet-handler/>    <!-- 自动扫描Controller -->    <context:component-scan base-package="org.butioy.webim.web.controller.**"/>    <!-- 静态资源 -->    <mvc:resources mapping="/static/**" location="/static/" cache-period="31556926" />    <!-- 文件上传支持 -->    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"          p:defaultEncoding="UTF-8"          p:maxUploadSize="1024000000"          p:resolveLazily="true"/>    <!-- 支持json xml jsp -->    <mvc:view-resolvers>        <mvc:content-negotiation>            <mvc:default-views>                <bean class="org.springframework.web.servlet.view.json.MappingJackson2JsonView"                      p:contentType="application/json;charset=UTF-8">                    <property name="jsonpParameterNames">                        <set>                            <value>jsonp</value>                            <value>callback</value>                        </set>                    </property>                </bean>                <!--<bean class="org.springframework.web.servlet.view.xml.MarshallingView"-->                      <!--p:contentType="application/xml;charset=UTF-8"/>-->            </mvc:default-views>        </mvc:content-negotiation>        <mvc:jsp view-class="org.springframework.web.servlet.view.JstlView"                prefix="/WEB-INF/pages/jsp" suffix=".jsp"/>    </mvc:view-resolvers>    <mvc:redirect-view-controller            path="/redirect"            redirect-url="/status"            context-relative="true"            status-code="301"            keep-query-params="true"/>    <mvc:status-controller path="/status" status-code="200"/>    <mvc:view-controller path="/error/**" status-code="200"/>    <!-- 权限验证拦截器 -->    <!--<mvc:interceptors>-->        <!--<bean class="org.butioy.framework.interceptor.AdminPermissionInterceptor"/>-->    <!--</mvc:interceptors>-->    <bean id="webSocketHandler" class="org.butioy.webim.websocket.handler.WebSocketHandlerImpl"/>    <websocket:handlers>        <websocket:mapping path="/webSocket" handler="webSocketHandler"/>        <websocket:handshake-interceptors>            <bean class="org.butioy.webim.websocket.handler.WebSocketHandshakeInterceptor"/>        </websocket:handshake-interceptors>    </websocket:handlers></beans>